<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Controle Financeiro | Março 2024</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px 15px 80px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .user-profile {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }
        
        h1 {
            color: var(--secondary);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }
        
        .month-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .month-selector button {
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
        }
        
        .current-month {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            text-align: center;
        }
        
        .stat-card.income {
            border-top: 5px solid #2ecc71;
        }
        
        .stat-card.expenses {
            border-top: 5px solid #e74c3c;
        }
        
        .stat-card.balance {
            grid-column: span 2;
            border-top: 5px solid var(--primary);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .income .stat-value {
            color: #2ecc71;
        }
        
        .expenses .stat-value {
            color: #e74c3c;
        }
        
        .balance .stat-value {
            color: var(--primary);
        }
        
        .achievements {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .achievements h2 {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--secondary);
            margin-bottom: 15px;
        }
        
        .badges {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .badge {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            position: relative;
        }
        
        .badge.gold {
            background: radial-gradient(circle at 30% 30%, #ffd700, #daa520);
            color: #8b6914;
        }
        
        .badge.silver {
            background: radial-gradient(circle at 30% 30%, #c0c0c0, #a0a0a0);
            color: #606060;
        }
        
        .badge.bronze {
            background: radial-gradient(circle at 30% 30%, #cd7f32, #a0522d);
            color: #5a3300;
        }
        
        .badge.locked {
            background: #e0e0e0;
            color: #aaa;
        }
        
        .badge .badge-tooltip {
            position: absolute;
            bottom: -40px;
            background: var(--dark);
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            display: none;
            z-index: 10;
        }
        
        .badge:hover .badge-tooltip {
            display: block;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: var(--radius) var(--radius) 0 0;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin-top: 30px;
        }
        
        .tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: #f1f3f9;
            border: none;
            font-weight: 600;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: white;
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .tab-content {
            display: none;
            background: white;
            padding: 25px;
            border-radius: 0 0 var(--radius) var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .daily-entry {
            background: #f8f9ff;
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            border-left: 5px solid var(--primary);
        }
        
        .daily-entry h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            color: var(--secondary);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
        }
        
        .btn:hover {
            background: var(--secondary);
        }
        
        .btn-success {
            background: #2ecc71;
        }
        
        .btn-success:hover {
            background: #27ae60;
        }
        
        .btn-warning {
            background: #f39c12;
        }
        
        .btn-warning:hover {
            background: #d68910;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-top: 20px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            background: #f8f9ff;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .calendar-day:hover {
            background: #eef2ff;
        }
        
        .calendar-day.today {
            background: var(--primary);
            color: white;
        }
        
        .calendar-day.has-expenses::after {
            content: "";
            position: absolute;
            bottom: 5px;
            width: 6px;
            height: 6px;
            background: var(--warning);
            border-radius: 50%;
        }
        
        .calendar-day.selected {
            box-shadow: 0 0 0 2px var(--primary);
        }
        
        .day-name {
            font-size: 12px;
            color: #777;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .credit-card {
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .credit-card::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 150px;
            height: 150px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .credit-card h3 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .card-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .fixed-expenses-list {
            margin-top: 20px;
        }
        
        .expense-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background: #f8f9ff;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .expense-item i {
            margin-right: 10px;
            color: var(--primary);
        }
        
        .expense-amount {
            font-weight: bold;
            color: var(--dark);
        }
        
        .daily-expenses-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .daily-expense-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            background: #f8f9ff;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid;
        }
        
        .daily-expense-item.ifood {
            border-left-color: #ff6b6b;
        }
        
        .daily-expense-item.uber {
            border-left-color: #1dd1a1;
        }
        
        .daily-expense-item.other {
            border-left-color: #54a0ff;
        }
        
        .delete-btn {
            background: transparent;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 18px;
        }
        
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 15px;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #777;
            font-size: 12px;
            transition: color 0.3s;
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-item i {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #777;
        }
        
        .empty-state i {
            font-size: 50px;
            margin-bottom: 15px;
            color: #ddd;
        }
        
        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s;
        }
        
        .ifood-progress {
            background: #ff6b6b;
        }
        
        .uber-progress {
            background: #1dd1a1;
        }
        
        .export-import {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        @media (max-width: 600px) {
            .stats-summary {
                grid-template-columns: 1fr;
            }
            
            .stat-card.balance {
                grid-column: span 1;
            }
            
            .card-details {
                grid-template-columns: 1fr;
            }
            
            .export-import {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="user-profile">V</div>
            <h1><i class="fas fa-wallet"></i> Meu Controle Financeiro</h1>
            <p>Controle seus gastos diários, cartões e conquiste medalhas!</p>
            
            <div class="month-selector">
                <button id="prev-month"><i class="fas fa-chevron-left"></i></button>
                <div class="current-month" id="current-month">Março 2024</div>
                <button id="next-month"><i class="fas fa-chevron-right"></i></button>
            </div>
        </header>
        
        <div class="stats-summary">
            <div class="stat-card income">
                <h3><i class="fas fa-money-bill-wave"></i> Renda Total</h3>
                <div class="stat-value" id="total-income">R$ 28.000</div>
                <p>R$ 18.000 Aposentadoria + R$ 10.000 Consultoria</p>
            </div>
            
            <div class="stat-card expenses">
                <h3><i class="fas fa-receipt"></i> Despesas Fixas</h3>
                <div class="stat-value" id="fixed-expenses">R$ 14.530</div>
                <p>Total de despesas obrigatórias</p>
            </div>
            
            <div class="stat-card balance">
                <h3><i class="fas fa-chart-line"></i> Saldo Disponível</h3>
                <div class="stat-value" id="available-balance">R$ 13.470</div>
                <p>Valor para gastos diários, cartões e economia</p>
            </div>
        </div>
        
        <div class="achievements">
            <h2><i class="fas fa-medal"></i> Conquistas</h2>
            <div class="badges">
                <div class="badge gold">
                    <i class="fas fa-calendar-check"></i>
                    <div class="badge-tooltip">7 dias registrando gastos</div>
                </div>
                <div class="badge silver">
                    <i class="fas fa-utensils"></i>
                    <div class="badge-tooltip">iFood abaixo do limite</div>
                </div>
                <div class="badge bronze">
                    <i class="fas fa-car"></i>
                    <div class="badge-tooltip">Uber abaixo do limite</div>
                </div>
                <div class="badge locked">
                    <i class="fas fa-lock"></i>
                    <div class="badge-tooltip">30 dias seguidos</div>
                </div>
                <div class="badge locked">
                    <i class="fas fa-lock"></i>
                    <div class="badge-tooltip">Cartões quitados</div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" data-tab="daily">Dia a Dia</button>
            <button class="tab" data-tab="cards">Cartões</button>
            <button class="tab" data-tab="fixed">Despesas Fixas</button>
            <button class="tab" data-tab="calendar">Calendário</button>
        </div>
        
        <!-- TAB DIÁRIA -->
        <div id="daily-tab" class="tab-content active">
            <div class="daily-entry">
                <h3><i class="fas fa-edit"></i> Registrar Gasto Diário</h3>
                
                <div class="form-group">
                    <label for="expense-date">Data:</label>
                    <input type="date" id="expense-date" value="2024-03-15">
                </div>
                
                <div class="form-group">
                    <label for="expense-category">Categoria:</label>
                    <select id="expense-category">
                        <option value="ifood">iFood / Delivery</option>
                        <option value="uber">Uber / Táxi / Transporte</option>
                        <option value="supermarket">Supermercado</option>
                        <option value="leisure">Lazer</option>
                        <option value="health">Saúde</option>
                        <option value="other">Outros</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="expense-description">Descrição:</label>
                    <input type="text" id="expense-description" placeholder="Ex: Almoço no restaurante, Uber para trabalho...">
                </div>
                
                <div class="form-group">
                    <label for="expense-amount">Valor (R$):</label>
                    <input type="number" id="expense-amount" placeholder="0,00" step="0.01" min="0">
                </div>
                
                <div class="form-group">
                    <label for="payment-method">Forma de Pagamento:</label>
                    <select id="payment-method">
                        <option value="nubank">Cartão Nubank</option>
                        <option value="cef">Cartão Caixa</option>
                        <option value="porto">Cartão Porto Seguro</option>
                        <option value="mercado-pago">Mercado Pago</option>
                        <option value="debit">Débito BB</option>
                        <option value="cash">Dinheiro</option>
                    </select>
                </div>
                
                <button class="btn" id="add-expense">
                    <i class="fas fa-plus-circle"></i> Adicionar Gasto
                </button>
            </div>
            
            <h3><i class="fas fa-history"></i> Gastos de Hoje</h3>
            
            <div class="daily-expenses-list" id="today-expenses">
                <!-- Gastos serão inseridos aqui via JavaScript -->
                <div class="empty-state">
                    <i class="fas fa-receipt"></i>
                    <p>Nenhum gasto registrado hoje ainda.</p>
                </div>
            </div>
            
            <h3 style="margin-top: 25px;"><i class="fas fa-chart-pie"></i> Limites do Mês</h3>
            
            <div class="form-group">
                <label for="ifood-limit">Limite iFood (R$):</label>
                <input type="number" id="ifood-limit" value="800" step="50">
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill ifood-progress" id="ifood-progress" style="width: 25%"></div>
            </div>
            <p>Gasto: <span id="ifood-spent">R$ 200,00</span> de <span id="ifood-total">R$ 800,00</span></p>
            
            <div class="form-group" style="margin-top: 20px;">
                <label for="uber-limit">Limite Uber/Táxi (R$):</label>
                <input type="number" id="uber-limit" value="600" step="50">
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill uber-progress" id="uber-progress" style="width: 40%"></div>
            </div>
            <p>Gasto: <span id="uber-spent">R$ 240,00</span> de <span id="uber-total">R$ 600,00</span></p>
        </div>
        
        <!-- TAB CARTÕES -->
        <div id="cards-tab" class="tab-content">
            <h3><i class="fas fa-credit-card"></i> Controle de Cartões</h3>
            <p>Adicione as parcelas mensais e o saldo devedor total de cada cartão.</p>
            
            <!-- Cartão Nubank -->
            <div class="credit-card">
                <h3>
                    <span><i class="fab fa-cc-mastercard"></i> Nubank</span>
                    <span style="font-size: 14px;">Limite: R$ 15.000</span>
                </h3>
                
                <div class="card-details">
                    <div class="form-group">
                        <label for="nubank-parcela">Parcela Mensal (R$):</label>
                        <input type="number" id="nubank-parcela" placeholder="Valor da parcela mensal" step="0.01" value="1250">
                    </div>
                    
                    <div class="form-group">
                        <label for="nubank-saldo">Saldo Devedor Total (R$):</label>
                        <input type="number" id="nubank-saldo" placeholder="Saldo total a pagar" step="0.01" value="8500">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="nubank-vencimento">Data de Vencimento:</label>
                    <input type="date" id="nubank-vencimento" value="2024-03-10">
                </div>
            </div>
            
            <!-- Cartão CEF -->
            <div class="credit-card" style="background: linear-gradient(135deg, #0060a9, #008cba);">
                <h3>
                    <span><i class="fas fa-university"></i> Caixa Econômica Federal</span>
                    <span style="font-size: 14px;">Limite: R$ 12.000</span>
                </h3>
                
                <div class="card-details">
                    <div class="form-group">
                        <label for="cef-parcela">Parcela Mensal (R$):</label>
                        <input type="number" id="cef-parcela" placeholder="Valor da parcela mensal" step="0.01" value="900">
                    </div>
                    
                    <div class="form-group">
                        <label for="cef-saldo">Saldo Devedor Total (R$):</label>
                        <input type="number" id="cef-saldo" placeholder="Saldo total a pagar" step="0.01" value="6500">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cef-vencimento">Data de Vencimento:</label>
                    <input type="date" id="cef-vencimento" value="2024-03-15">
                </div>
            </div>
            
            <!-- Cartão Porto Seguro -->
            <div class="credit-card" style="background: linear-gradient(135deg, #0033a0, #0055cc);">
                <h3>
                    <span><i class="fas fa-shield-alt"></i> Porto Seguro</span>
                    <span style="font-size: 14px;">Limite: R$ 8.000</span>
                </h3>
                
                <div class="card-details">
                    <div class="form-group">
                        <label for="porto-parcela">Parcela Mensal (R$):</label>
                        <input type="number" id="porto-parcela" placeholder="Valor da parcela mensal" step="0.01" value="600">
                    </div>
                    
                    <div class="form-group">
                        <label for="porto-saldo">Saldo Devedor Total (R$):</label>
                        <input type="number" id="porto-saldo" placeholder="Saldo total a pagar" step="0.01" value="3200">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="porto-vencimento">Data de Vencimento:</label>
                    <input type="date" id="porto-vencimento" value="2024-03-20">
                </div>
            </div>
            
            <!-- Cartão Mercado Pago -->
            <div class="credit-card" style="background: linear-gradient(135deg, #00b4ff, #0095db);">
                <h3>
                    <span><i class="fas fa-shopping-cart"></i> Mercado Pago</span>
                    <span style="font-size: 14px;">Limite: R$ 5.000</span>
                </h3>
                
                <div class="card-details">
                    <div class="form-group">
                        <label for="mercado-parcela">Parcela Mensal (R$):</label>
                        <input type="number" id="mercado-parcela" placeholder="Valor da parcela mensal" step="0.01" value="400">
                    </div>
                    
                    <div class="form-group">
                        <label for="mercado-saldo">Saldo Devedor Total (R$):</label>
                        <input type="number" id="mercado-saldo" placeholder="Saldo total a pagar" step="0.01" value="1800">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="mercado-vencimento">Data de Vencimento:</label>
                    <input type="date" id="mercado-vencimento" value="2024-03-12">
                </div>
            </div>
            
            <button class="btn btn-success" id="save-cards">
                <i class="fas fa-save"></i> Salvar Alterações nos Cartões
            </button>
            
            <div style="margin-top: 20px; padding: 15px; background: #f8f9ff; border-radius: var(--radius);">
                <h4><i class="fas fa-calculator"></i> Resumo dos Cartões</h4>
                <p>Total de Parcelas Mensais: <strong id="total-parcelas">R$ 3.150,00</strong></p>
                <p>Saldo Devedor Total: <strong id="total-saldo">R$ 20.000,00</strong></p>
            </div>
        </div>
        
        <!-- TAB DESPESAS FIXAS -->
        <div id="fixed-tab" class="tab-content">
            <h3><i class="fas fa-list-alt"></i> Despesas Fixas Mensais</h3>
            <p>Estas são suas despesas obrigatórias. Total: <strong>R$ 14.530,00</strong></p>
            
            <div class="fixed-expenses-list">
                <!-- Despesas fixas serão geradas via JavaScript -->
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: #eef7ff; border-radius: var(--radius);">
                <h4><i class="fas fa-lightbulb"></i> Dica de Economia</h4>
                <p>Com seu saldo disponível de <strong>R$ 13.470,00</strong> após pagar as despesas fixas, tente destinar:</p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>R$ 8.000</strong> para pagamento de cartões</li>
                    <li><strong>R$ 3.000</strong> para gastos diários (incluindo iFood e Uber)</li>
                    <li><strong>R$ 2.470</strong> para reserva de emergência/investimentos</li>
                </ul>
            </div>
        </div>
        
        <!-- TAB CALENDÁRIO -->
        <div id="calendar-tab" class="tab-content">
            <h3><i class="fas fa-calendar-alt"></i> Calendário de Gastos - Março 2024</h3>
            
            <div class="calendar" id="calendar">
                <!-- Calendário será gerado via JavaScript -->
            </div>
            
            <div style="margin-top: 30px;">
                <h4><i class="fas fa-download"></i> Backup dos Dados</h4>
                <p>Seus dados são salvos automaticamente no seu celular. Para fazer um backup ou restaurar:</p>
                
                <div class="export-import">
                    <button class="btn btn-success" id="export-data">
                        <i class="fas fa-file-export"></i> Exportar Dados
                    </button>
                    
                    <button class="btn btn-warning" id="import-data">
                        <i class="fas fa-file-import"></i> Importar Dados
                    </button>
                </div>
                
                <input type="file" id="import-file" accept=".json" style="display: none;">
                
                <div style="margin-top: 20px; padding: 15px; background: #f8f9ff; border-radius: var(--radius); font-size: 14px;">
                    <p><i class="fas fa-info-circle"></i> <strong>Como usar no celular:</strong></p>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>Adicione esta página à tela inicial do seu celular</li>
                        <li>Os dados são salvos automaticamente no navegador</li>
                        <li>Faça backup periódico para não perder informações</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer-nav">
        <a href="#" class="nav-item active" data-tab="daily">
            <i class="fas fa-home"></i>
            <span>Início</span>
        </a>
        <a href="#" class="nav-item" data-tab="cards">
            <i class="fas fa-credit-card"></i>
            <span>Cartões</span>
        </a>
        <a href="#" class="nav-item" data-tab="fixed">
            <i class="fas fa-list"></i>
            <span>Despesas</span>
        </a>
        <a href="#" class="nav-item" data-tab="calendar">
            <i class="fas fa-calendar"></i>
            <span>Calendário</span>
        </a>
    </div>

    <script>
        // Dados iniciais do aplicativo
        const appData = {
            currentMonth: "março 2024",
            fixedExpenses: [
                { id: 1, name: "Mamãe", amount: 2800, icon: "fas fa-female" },
                { id: 2, name: "Contador", amount: 500, icon: "fas fa-calculator" },
                { id: 3, name: "Faculdade da Paola", amount: 2200, icon: "fas fa-graduation-cap" },
                { id: 4, name: "Ajuda Aluguel Priscila", amount: 1000, icon: "fas fa-home" },
                { id: 5, name: "Consórcio Imóvel CEF", amount: 1900, icon: "fas fa-building" },
                { id: 6, name: "Aluguel", amount: 3100, icon: "fas fa-house-user" },
                { id: 7, name: "ANABB e AFABB", amount: 110, icon: "fas fa-handshake" },
                { id: 8, name: "Planos de Previdência Netos", amount: 400, icon: "fas fa-child" },
                { id: 9, name: "Telefone", amount: 120, icon: "fas fa-phone" },
                { id: 10, name: "Energia", amount: 150, icon: "fas fa-bolt" },
                { id: 11, name: "Diarista", amount: 600, icon: "fas fa-broom" },
                { id: 12, name: "CASSI", amount: 1500, icon: "fas fa-heartbeat" },
                { id: 13, name: "Ourocap", amount: 100, icon: "fas fa-pills" },
                { id: 14, name: "Tio Ednaldo", amount: 150, icon: "fas fa-male" }
            ],
            creditCards: {
                nubank: { installment: 1250, balance: 8500, dueDate: "2024-03-10", limit: 15000 },
                cef: { installment: 900, balance: 6500, dueDate: "2024-03-15", limit: 12000 },
                porto: { installment: 600, balance: 3200, dueDate: "2024-03-20", limit: 8000 },
                mercado: { installment: 400, balance: 1800, dueDate: "2024-03-12", limit: 5000 }
            },
            dailyExpenses: [
                { id: 1, date: "2024-03-15", category: "ifood", description: "Almoço no restaurante", amount: 78.50, paymentMethod: "nubank" },
                { id: 2, date: "2024-03-15", category: "uber", description: "Uber para reunião", amount: 32.90, paymentMethod: "mercado-pago" },
                { id: 3, date: "2024-03-14", category: "ifood", description: "Jantar", amount: 65.00, paymentMethod: "nubank" },
                { id: 4, date: "2024-03-14", category: "supermarket", description: "Supermercado", amount: 245.00, paymentMethod: "debit" },
                { id: 5, date: "2024-03-13", category: "uber", description: "Uber para casa", amount: 28.50, paymentMethod: "nubank" },
                { id: 6, date: "2024-03-13", category: "leisure", description: "Cinema", amount: 90.00, paymentMethod: "porto" }
            ],
            limits: {
                ifood: 800,
                uber: 600
            },
            achievements: {
                streak7: true,
                ifoodLimit: false,
                uberLimit: false,
                streak30: false,
                cardsPaid: false
            }
        };
        
        // Carregar dados salvos do localStorage
        function loadData() {
            const savedData = localStorage.getItem("financeControlData");
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                Object.assign(appData, parsedData);
            }
            
            updateUI();
        }
        
        // Salvar dados no localStorage
        function saveData() {
            localStorage.setItem("financeControlData", JSON.stringify(appData));
            showNotification("Dados salvos com sucesso!");
        }
        
        // Atualizar toda a interface
        function updateUI() {
            updateFixedExpenses();
            updateCreditCards();
            updateDailyExpenses();
            updateStats();
            updateCalendar();
            updateLimits();
            updateAchievements();
        }
        
        // Atualizar lista de despesas fixas
        function updateFixedExpenses() {
            const container = document.querySelector(".fixed-expenses-list");
            container.innerHTML = "";
            
            let total = 0;
            
            appData.fixedExpenses.forEach(expense => {
                total += expense.amount;
                
                const item = document.createElement("div");
                item.className = "expense-item";
                item.innerHTML = `
                    <div>
                        <i class="${expense.icon}"></i>
                        ${expense.name}
                    </div>
                    <div class="expense-amount">R$ ${expense.amount.toFixed(2)}</div>
                `;
                
                container.appendChild(item);
            });
            
            // Atualizar o total das despesas fixas
            document.getElementById("fixed-expenses").textContent = `R$ ${total.toFixed(2)}`;
        }
        
        // Atualizar informações dos cartões
        function updateCreditCards() {
            // Atualizar valores dos inputs
            document.getElementById("nubank-parcela").value = appData.creditCards.nubank.installment;
            document.getElementById("nubank-saldo").value = appData.creditCards.nubank.balance;
            document.getElementById("nubank-vencimento").value = appData.creditCards.nubank.dueDate;
            
            document.getElementById("cef-parcela").value = appData.creditCards.cef.installment;
            document.getElementById("cef-saldo").value = appData.creditCards.cef.balance;
            document.getElementById("cef-vencimento").value = appData.creditCards.cef.dueDate;
            
            document.getElementById("porto-parcela").value = appData.creditCards.porto.installment;
            document.getElementById("porto-saldo").value = appData.creditCards.porto.balance;
            document.getElementById("porto-vencimento").value = appData.creditCards.porto.dueDate;
            
            document.getElementById("mercado-parcela").value = appData.creditCards.mercado.installment;
            document.getElementById("mercado-saldo").value = appData.creditCards.mercado.balance;
            document.getElementById("mercado-vencimento").value = appData.creditCards.mercado.dueDate;
            
            // Calcular totais
            let totalInstallments = 0;
            let totalBalance = 0;
            
            for (const card in appData.creditCards) {
                totalInstallments += appData.creditCards[card].installment;
                totalBalance += appData.creditCards[card].balance;
            }
            
            document.getElementById("total-parcelas").textContent = `R$ ${totalInstallments.toFixed(2)}`;
            document.getElementById("total-saldo").textContent = `R$ ${totalBalance.toFixed(2)}`;
        }
        
        // Atualizar gastos diários
        function updateDailyExpenses() {
            const today = new Date().toISOString().split('T')[0];
            const todayExpenses = appData.dailyExpenses.filter(expense => expense.date === today);
            const container = document.getElementById("today-expenses");
            
            container.innerHTML = "";
            
            if (todayExpenses.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-receipt"></i>
                        <p>Nenhum gasto registrado hoje ainda.</p>
                    </div>
                `;
                return;
            }
            
            todayExpenses.forEach(expense => {
                const item = document.createElement("div");
                item.className = `daily-expense-item ${expense.category}`;
                
                const categoryNames = {
                    "ifood": "iFood",
                    "uber": "Uber/Táxi",
                    "supermarket": "Supermercado",
                    "leisure": "Lazer",
                    "health": "Saúde",
                    "other": "Outros"
                };
                
                const paymentMethods = {
                    "nubank": "Nubank",
                    "cef": "Caixa",
                    "porto": "Porto Seguro",
                    "mercado-pago": "Mercado Pago",
                    "debit": "Débito BB",
                    "cash": "Dinheiro"
                };
                
                item.innerHTML = `
                    <div>
                        <strong>${expense.description}</strong>
                        <div style="font-size: 12px; color: #666; margin-top: 5px;">
                            ${categoryNames[expense.category]} • ${paymentMethods[expense.paymentMethod]}
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <strong style="color: #e74c3c;">R$ ${expense.amount.toFixed(2)}</strong>
                        <button class="delete-btn" data-id="${expense.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                container.appendChild(item);
            });
            
            // Adicionar event listeners aos botões de excluir
            document.querySelectorAll(".delete-btn").forEach(button => {
                button.addEventListener("click", function() {
                    const id = parseInt(this.getAttribute("data-id"));
                    deleteExpense(id);
                });
            });
        }
        
        // Atualizar estatísticas
        function updateStats() {
            const totalFixed = appData.fixedExpenses.reduce((sum, expense) => sum + expense.amount, 0);
            const totalIncome = 28000;
            const availableBalance = totalIncome - totalFixed;
            
            document.getElementById("total-income").textContent = `R$ ${totalIncome.toFixed(2)}`;
            document.getElementById("fixed-expenses").textContent = `R$ ${totalFixed.toFixed(2)}`;
            document.getElementById("available-balance").textContent = `R$ ${availableBalance.toFixed(2)}`;
            
            // Atualizar mês atual
            document.getElementById("current-month").textContent = appData.currentMonth;
        }
        
        // Atualizar calendário
        function updateCalendar() {
            const container = document.getElementById("calendar");
            container.innerHTML = "";
            
            // Cabeçalho do calendário
            const daysOfWeek = ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sáb"];
            daysOfWeek.forEach(day => {
                const dayElement = document.createElement("div");
                dayElement.className = "day-name";
                dayElement.textContent = day;
                container.appendChild(dayElement);
            });
            
            // Dias do mês (simplificado para março 2024)
            const today = new Date();
            const currentDay = today.getDate();
            
            for (let day = 1; day <= 31; day++) {
                const dayElement = document.createElement("div");
                dayElement.className = "calendar-day";
                dayElement.textContent = day;
                
                // Marcar hoje
                if (day === currentDay && appData.currentMonth.toLowerCase().includes("março")) {
                    dayElement.classList.add("today");
                }
                
                // Verificar se há despesas nesse dia
                const dateStr = `2024-03-${day.toString().padStart(2, '0')}`;
                const hasExpenses = appData.dailyExpenses.some(expense => expense.date === dateStr);
                
                if (hasExpenses) {
                    dayElement.classList.add("has-expenses");
                }
                
                // Adicionar evento de clique
                dayElement.addEventListener("click", function() {
                    document.querySelectorAll(".calendar-day").forEach(d => d.classList.remove("selected"));
                    this.classList.add("selected");
                    
                    // Definir a data selecionada no formulário
                    document.getElementById("expense-date").value = dateStr;
                    
                    // Mudar para a aba diária
                    document.querySelectorAll(".tab, .nav-item").forEach(el => el.classList.remove("active"));
                    document.querySelectorAll(".tab-content").forEach(el => el.classList.remove("active"));
                    
                    document.querySelector('[data-tab="daily"]').classList.add("active");
                    document.querySelector('#daily-tab').classList.add("active");
                    document.querySelector('.nav-item[data-tab="daily"]').classList.add("active");
                });
                
                container.appendChild(dayElement);
            }
        }
        
        // Atualizar limites e progresso
        function updateLimits() {
            // Atualizar valores dos inputs
            document.getElementById("ifood-limit").value = appData.limits.ifood;
            document.getElementById("uber-limit").value = appData.limits.uber;
            
            // Calcular gastos do mês
            const currentMonth = appData.currentMonth.toLowerCase();
            const monthExpenses = appData.dailyExpenses.filter(expense => {
                return expense.date.startsWith("2024-03");
            });
            
            const ifoodSpent = monthExpenses
                .filter(expense => expense.category === "ifood")
                .reduce((sum, expense) => sum + expense.amount, 0);
            
            const uberSpent = monthExpenses
                .filter(expense => expense.category === "uber")
                .reduce((sum, expense) => sum + expense.amount, 0);
            
            // Atualizar progresso
            const ifoodProgress = (ifoodSpent / appData.limits.ifood) * 100;
            const uberProgress = (uberSpent / appData.limits.uber) * 100;
            
            document.getElementById("ifood-progress").style.width = `${Math.min(ifoodProgress, 100)}%`;
            document.getElementById("uber-progress").style.width = `${Math.min(uberProgress, 100)}%`;
            
            document.getElementById("ifood-spent").textContent = `R$ ${ifoodSpent.toFixed(2)}`;
            document.getElementById("ifood-total").textContent = `R$ ${appData.limits.ifood.toFixed(2)}`;
            
            document.getElementById("uber-spent").textContent = `R$ ${uberSpent.toFixed(2)}`;
            document.getElementById("uber-total").textContent = `R$ ${appData.limits.uber.toFixed(2)}`;
            
            // Atualizar conquistas
            appData.achievements.ifoodLimit = ifoodSpent <= appData.limits.ifood;
            appData.achievements.uberLimit = uberSpent <= appData.limits.uber;
            
            updateAchievements();
        }
        
        // Atualizar conquistas
        function updateAchievements() {
            const badges = document.querySelectorAll(".badge");
            
            // Conquista 1: 7 dias seguidos
            if (appData.achievements.streak7) {
                badges[0].className = "badge gold";
                badges[0].innerHTML = '<i class="fas fa-calendar-check"></i><div class="badge-tooltip">7 dias registrando gastos</div>';
            }
            
            // Conquista 2: iFood abaixo do limite
            if (appData.achievements.ifoodLimit) {
                badges[1].className = "badge silver";
                badges[1].innerHTML = '<i class="fas fa-utensils"></i><div class="badge-tooltip">iFood abaixo do limite</div>';
            }
            
            // Conquista 3: Uber abaixo do limite
            if (appData.achievements.uberLimit) {
                badges[2].className = "badge bronze";
                badges[2].innerHTML = '<i class="fas fa-car"></i><div class="badge-tooltip">Uber abaixo do limite</div>';
            }
            
            // Conquista 4: 30 dias seguidos (bloqueada)
            if (appData.achievements.streak30) {
                badges[3].className = "badge gold";
                badges[3].innerHTML = '<i class="fas fa-trophy"></i><div class="badge-tooltip">30 dias seguidos</div>';
            }
            
            // Conquista 5: Cartões quitados (bloqueada)
            if (appData.achievements.cardsPaid) {
                badges[4].className = "badge gold";
                badges[4].innerHTML = '<i class="fas fa-credit-card"></i><div class="badge-tooltip">Cartões quitados</div>';
            }
        }
        
        // Adicionar novo gasto
        function addExpense() {
            const date = document.getElementById("expense-date").value;
            const category = document.getElementById("expense-category").value;
            const description = document.getElementById("expense-description").value;
            const amount = parseFloat(document.getElementById("expense-amount").value);
            const paymentMethod = document.getElementById("payment-method").value;
            
            if (!description || !amount || amount <= 0) {
                showNotification("Por favor, preencha todos os campos corretamente!", "error");
                return;
            }
            
            const newExpense = {
                id: Date.now(),
                date,
                category,
                description,
                amount,
                paymentMethod
            };
            
            appData.dailyExpenses.push(newExpense);
            
            // Limpar formulário
            document.getElementById("expense-description").value = "";
            document.getElementById("expense-amount").value = "";
            
            // Atualizar UI e salvar
            updateDailyExpenses();
            updateLimits();
            saveData();
            
            showNotification("Gasto adicionado com sucesso!");
            
            // Verificar se conquistou algo
            checkAchievements();
        }
        
        // Excluir gasto
        function deleteExpense(id) {
            if (confirm("Tem certeza que deseja excluir este gasto?")) {
                appData.dailyExpenses = appData.dailyExpenses.filter(expense => expense.id !== id);
                updateDailyExpenses();
                updateLimits();
                saveData();
                showNotification("Gasto excluído com sucesso!");
            }
        }
        
        // Salvar alterações nos cartões
        function saveCreditCards() {
            appData.creditCards.nubank.installment = parseFloat(document.getElementById("nubank-parcela").value) || 0;
            appData.creditCards.nubank.balance = parseFloat(document.getElementById("nubank-saldo").value) || 0;
            appData.creditCards.nubank.dueDate = document.getElementById("nubank-vencimento").value;
            
            appData.creditCards.cef.installment = parseFloat(document.getElementById("cef-parcela").value) || 0;
            appData.creditCards.cef.balance = parseFloat(document.getElementById("cef-saldo").value) || 0;
            appData.creditCards.cef.dueDate = document.getElementById("cef-vencimento").value;
            
            appData.creditCards.porto.installment = parseFloat(document.getElementById("porto-parcela").value) || 0;
            appData.creditCards.porto.balance = parseFloat(document.getElementById("porto-saldo").value) || 0;
            appData.creditCards.porto.dueDate = document.getElementById("porto-vencimento").value;
            
            appData.creditCards.mercado.installment = parseFloat(document.getElementById("mercado-parcela").value) || 0;
            appData.creditCards.mercado.balance = parseFloat(document.getElementById("mercado-saldo").value) || 0;
            appData.creditCards.mercado.dueDate = document.getElementById("mercado-vencimento").value;
            
            updateCreditCards();
            saveData();
            showNotification("Cartões atualizados com sucesso!");
        }
        
        // Atualizar limites
        function updateLimitsFromInputs() {
            appData.limits.ifood = parseFloat(document.getElementById("ifood-limit").value) || 0;
            appData.limits.uber = parseFloat(document.getElementById("uber-limit").value) || 0;
            
            updateLimits();
            saveData();
            showNotification("Limites atualizados com sucesso!");
        }
        
        // Verificar conquistas
        function checkAchievements() {
            // Verificar se tem 7 dias seguidos com registros
            const dates = [...new Set(appData.dailyExpenses.map(expense => expense.date))].sort();
            
            let streak = 0;
            let maxStreak = 0;
            let currentDate = new Date();
            
            for (let i = 0; i < dates.length; i++) {
                const date = new Date(dates[i]);
                const nextDate = i < dates.length - 1 ? new Date(dates[i + 1]) : null;
                
                if (nextDate && (nextDate - date) / (1000 * 60 * 60 * 24) === 1) {
                    streak++;
                    maxStreak = Math.max(maxStreak, streak);
                } else {
                    streak = 0;
                }
            }
            
            appData.achievements.streak7 = maxStreak >= 6;
            appData.achievements.streak30 = maxStreak >= 29;
            
            // Verificar se todos os cartões estão quitados
            const totalBalance = Object.values(appData.creditCards).reduce((sum, card) => sum + card.balance, 0);
            appData.achievements.cardsPaid = totalBalance === 0;
            
            updateAchievements();
            saveData();
        }
        
        // Exportar dados
        function exportData() {
            const dataStr = JSON.stringify(appData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `controle-financeiro-${new Date().toISOString().slice(0,10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification("Dados exportados com sucesso!");
        }
        
        // Importar dados
        function importData() {
            document.getElementById("import-file").click();
        }
        
        // Mostrar notificação
        function showNotification(message, type = "success") {
            // Criar elemento de notificação
            const notification = document.createElement("div");
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === "error" ? "#e74c3c" : "#2ecc71"};
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-weight: 600;
                animation: slideIn 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            // Remover após 3 segundos
            setTimeout(() => {
                notification.style.animation = "slideOut 0.3s ease-out";
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Inicializar aplicativo
        function initApp() {
            loadData();
            
            // Adicionar event listeners
            document.getElementById("add-expense").addEventListener("click", addExpense);
            document.getElementById("save-cards").addEventListener("click", saveCreditCards);
            document.getElementById("export-data").addEventListener("click", exportData);
            document.getElementById("import-data").addEventListener("click", importData);
            
            // Atualizar limites quando alterados
            document.getElementById("ifood-limit").addEventListener("change", updateLimitsFromInputs);
            document.getElementById("uber-limit").addEventListener("change", updateLimitsFromInputs);
            
            // Navegação por abas
            document.querySelectorAll(".tab, .nav-item").forEach(tab => {
                tab.addEventListener("click", function(e) {
                    e.preventDefault();
                    
                    const tabId = this.getAttribute("data-tab");
                    
                    // Atualizar abas
                    document.querySelectorAll(".tab, .nav-item").forEach(el => el.classList.remove("active"));
                    this.classList.add("active");
                    
                    document.querySelectorAll(".tab-content").forEach(el => el.classList.remove("active"));
                    document.getElementById(`${tabId}-tab`).classList.add("active");
                });
            });
            
            // Navegação do mês
            document.getElementById("prev-month").addEventListener("click", function() {
                // Implementar lógica para mudar de mês
                showNotification("Funcionalidade de navegação por mês será implementada em breve!");
            });
            
            document.getElementById("next-month").addEventListener("click", function() {
                // Implementar lógica para mudar de mês
                showNotification("Funcionalidade de navegação por mês será implementada em breve!");
            });
            
            // Importar dados do arquivo
            document.getElementById("import-file").addEventListener("change", function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        Object.assign(appData, importedData);
                        updateUI();
                        saveData();
                        showNotification("Dados importados com sucesso!");
                    } catch (error) {
                        showNotification("Erro ao importar dados. Verifique o arquivo.", "error");
                    }
                };
                reader.readAsText(file);
                
                // Limpar input
                e.target.value = "";
            });
            
            // Definir data de hoje como padrão
            const today = new Date().toISOString().split('T')[0];
            document.getElementById("expense-date").value = today;
            
            // Adicionar estilo para animações
            const style = document.createElement("style");
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
                
                /* Adicionar à tela inicial no Android */
                @media all and (display-mode: standalone) {
                    body { padding-bottom: 100px; }
                }
            `;
            document.head.appendChild(style);
            
            // Verificar se é PWA
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log("Executando como aplicativo instalado");
            }
        }
        
        // Inicializar quando a página carregar
        document.addEventListener("DOMContentLoaded", initApp);
    </script>
</body>
</html>